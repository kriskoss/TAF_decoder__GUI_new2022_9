<Page1@BoxLayout>
    orientation:"vertical"
    Nav_page1:
    Top_Bar:
        id: id__Top_Bar
        size_hint: 1, None
        height: '30dp'
    Add_Group:
        id: id__Add_Group
    Search__container:
        Search_textInput:
            id:Search_textInput

        Button:
            on_release: Search_textInput.text=''
            text: "CLR"
            size_hint:None,1
            width: '60dp'

    TAF_groups__scroll:
        id: id__TAF_groups__scroll

<Search__container@BoxLayout>:
    size_hint: 1, None
    height: '40dp'

####
<Top_Bar@BoxLayout>
    Button:
        text: "Reload TAFs"
        on_release: app.call_TAFs_reload()
        background_color: (1,0.5,1,1)


<Nav_page1@BoxLayout>:
    size_hint:1,None
    height:'30dp'
    Button:
        text: "TAFs"

        on_press:
            app.root.current="second"
            app.root.transition.direction = "left"
    Button:
        text: "Settings"
        size_hint:None,1
        width: '80dp'
        on_press:
            app.root.current="third"
            app.root.transition.direction = "left"

<Search_textInput@TextInput>:
    size_hint: 1, None
    height: '40dp'
    hint_text: app.search_hint
    font_size:"25dp"
    halign: "center"
    multiline: False
    on_text_validate: app.load_single_TAF(self)
    on_text:
        ## Introduces search functionality
        # Pases the search inputText value
        app.update_search_input(self)

        # Apps root element - window manager
        window_manager = app.root

        # Finds the element storing g_group buttons
        id__TAF_groups_Stack = (window_manager.ids.id__Page1.ids.id__TAF_groups__scroll.ids.id__TAF_groups_Stack)

        # Removes all the g_group buttons
        id__TAF_groups_Stack.clear_widgets()

        # Creates new g_group buttons which met search criteria - search string has to be in g_group key
        app.create_g_group_buttons(id__TAF_groups_Stack)
        app.create_SINGLE_station_buttons(id__TAF_groups_Stack)


####
<TAF_groups__scroll@ScrollView>:
    TAF_groups_Stack:
        id: id__TAF_groups_Stack
        size_hint: 1, None
        height:  self.minimum_height
        # "left-right, right-left, top-bottom, bottom-top"
        orientation: "lr-tb"
        padding:"20dp",
        spacing:"5dp",

<TAF_groups_Stack>
    orientation: "rl-tb"


<Add_Group>:
    #Add_New_Airport

    size_hint:1,None
    height: "80dp"
    orientation: "vertical"
    size_hint_x:0.9
    pos_hint:{"center_x": 0.5}
    TextInput:
        id: my_g_group_input
        multiline: False
        on_text_validate: root.on_text_validate(self)
        hint_text: "Write new group: XXXX XXXX XXXX"
        halign:"center"

    Button:
        text: "Store: " +root.new_group_str
        on_press: root.call_add_new_group()


    Label:
        color: (0.6,0.5,0,1)
        text: root.terminal_answer




###END - Page 1