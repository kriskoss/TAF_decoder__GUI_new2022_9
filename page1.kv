<Page1@BoxLayout>
    orientation:"vertical"
    Nav_page1:
    Top_Bar:
        id: id__Top_Bar
        size_hint: 1, None
        height: '60dp'
        font_size: "20dp"

    Search__container:
        Search_textInput:
            id:Search_textInput

        Button:
            on_release:
                Search_textInput.text=''
                app.search_hint="Search"
            text: "CLR"
            size_hint:None,1
            width: '60dp'
        ToggleButton:
            text:'COLOR ON'
            on_state: app.single_station_color_on(self)
            size_hint:None,1
            width: '100dp'

        ToggleButton:
            text:'TESTING'
            on_state: app.testing_tafs(self)
            size_hint:None,1
            width: '70dp'
    BoxLayout:
        Last_requests__scroll:
            size_hint:None,1
            width: '90dp'
            id:id__Last_requests__scroll
        TAF_groups__scroll:
            id: id__TAF_groups__scroll

<Search__container@BoxLayout>:
    size_hint: 1, None
    height: '40dp'

####
<Top_Bar@BoxLayout>
    orientation:'vertical'
    Button:
        text: "Reload TAFs"

        on_release: app.call_TAFs_reload()
        background_color: (1,0.5,1,1)
        font_size:"20dp"

    Label:
        text: app.reload_TAFs_msg
        font_size:"14dp"

<Nav_page1@BoxLayout>:
    size_hint:1,None
    height:'30dp'
    Button:
        text: "Go to TAFs page"

        on_press:
            app.root.current="second"
            app.root.transition.direction = "left"
    Button:
        text: "Settings"
        on_press:
            app.root.current="third"
            app.root.transition.direction = "left"

    Button:
        text: "Add group"
        on_press:
            app.root.current="fourth"
            app.root.transition.direction = "left"


<Search_textInput@TextInput>:
    hint_text: app.search_hint
    font_size:"25dp"
    halign: "center"
    multiline: False
    on_text_validate: app.load_single_TAF(self)
    on_text:
        ## Introduces search functionality
        # Pases the search inputText value
        app.update_search_input(self)

        # Apps root element - window manager
        window_manager = app.root

        # Finds the element storing g_group buttons
        id__TAF_groups_Stack = (window_manager.ids.id__Page1.ids.id__TAF_groups__scroll.ids.id__TAF_groups_Stack)

        # Removes all the g_group buttons
        id__TAF_groups_Stack.clear_widgets()

        # Creates new g_group buttons which met search criteria - search string has to be in g_group key
        app.create_g_group_buttons(id__TAF_groups_Stack)
        app.create_SINGLE_station_buttons(id__TAF_groups_Stack)


####
<TAF_groups__scroll@ScrollView>:
    TAF_groups_Stack:
        id: id__TAF_groups_Stack
        size_hint: 1, None
        height:  self.minimum_height
        # "left-right, right-left, top-bottom, bottom-top"
        orientation: "lr-tb"
        spacing:"5dp",

<Last_requests__scroll@ScrollView>
    Last_requests:
        id: id__Last_requests
        size_hint: 1, None
        height:  self.minimum_height
        # "left-right, right-left, top-bottom, bottom-top"
        orientation: "lr-tb"
        spacing:"5dp",

<TAF_groups_Stack>
    orientation: "rl-tb"







###END - Page 1